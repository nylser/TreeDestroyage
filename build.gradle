
plugins {
    id 'java' // or 'groovy' Must be explicitly applied
    id 'idea'
    id 'com.github.johnrengelman.shadow' version '1.2.2'
}

group 'mineguild.net'


ext.versionCode = System.getenv("BUILD_NUMBER") as Integer ?: 0
ext.versionName = "0.8-DEV-API4.1.0"

version "${versionName}-${versionCode}"

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    maven {
        name = 'sponge'
        url = 'http://repo.spongepowered.org/maven'
    }

    maven {
        name = 'minecrell'
        url = 'http://repo.minecrell.net/releases'
    }
}

dependencies {
    compile 'org.spongepowered:spongeapi:4.1.0-SNAPSHOT'
    compile 'net.minecrell.mcstats:statslite-sponge:0.2.2'
}

shadowJar {
    relocate 'net.minecrell.mcstats', 'net.mineguild.mcstats'
    dependencies {
        include(dependency("net.minecrell.mcstats:statslite-sponge:.*"))
    }
}

artifacts {
    archives shadowJar
}
